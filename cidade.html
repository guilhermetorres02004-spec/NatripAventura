<!-- P√°gina de detalhe de cidade + agendamento.
    - Recebe `?nome=` na URL para identificar a cidade.
    - Exibe descri√ß√£o, pontos de interesse e um formul√°rio de agendamento.
    - Os agendamentos s√£o salvos em `localStorage` (chave `natrip_bookings`).
-->
<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Cidade | Natrip Aventura</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        <!-- estilos de p√°gina de cidade padronizados via css/style.css -->
            /* Fim dos estilos inline removidos */
    </style>
</head>
<body>

<!-- Header injetado por `js/main.js` -->

<!-- Carrossel de imagens da cidade -->
<div class="carousel-container">
    <div class="carousel" id="city-carousel">
        <div id="carousel-availability" class="carousel-availability" style="display:none">Vagas: --</div>
        <!-- Slides ser√£o inseridos dinamicamente pelo JavaScript -->
        <button class="carousel-btn prev" onclick="changeSlide(-1)">‚ùÆ</button>
        <button class="carousel-btn next" onclick="changeSlide(1)">‚ùØ</button>
        <div class="carousel-indicators" id="carousel-indicators"></div>
    </div>
</div>

<!-- Hero com imagem e conte√∫do da cidade. Abaixo, um cart√£o de agendamento que grava reservas em localStorage. -->
<section class="city-hero">
    <div id="hero-cover" class="cover"></div>
    <div class="city-content">
        <h1 id="city-title">Cidade</h1>
        <p id="city-desc">Descri√ß√£o breve da cidade.</p>

        <div style="display:grid;grid-template-columns:1fr 320px;gap:18px;margin-top:18px;align-items:start;">
            <div>
                <h3>Pontos de interesse</h3>
                <ul id="city-points"></ul>
            </div>

            <div class="booking-card">
                <h3>Agendar Viagem</h3>
                <!-- Exibe nome do usu√°rio logado ou um link para efetuar login -->
                <p id="booking-user-note" style="color:#666;font-size:0.95rem;margin-bottom:8px;"></p>
                <p id="availability-note" style="color:#666;font-size:0.95rem;margin:6px 0 10px;"></p>
                <input id="booking-date" type="date">
                <div id="reserved-dates" style="margin-top:8px; display:flex; gap:8px; flex-wrap:wrap;"></div>
                <!-- Campo de quantidade simples (input num√©rico) -->
                <input id="booking-seats" type="number" min="1" value="1" placeholder="Quantidade de pessoas">
                <textarea id="booking-notes" rows="3" placeholder="Observa√ß√µes (opcional)"></textarea>
                <button id="booking-submit" class="btn-agendar">Agendar</button>
                <p class="form-msg" id="booking-msg"></p>
            </div>
        </div>
    </div>
</section>

<footer>
    <p>¬© 2026 Natrip Aventura</p>
</footer>

<script src="js/main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
    const params = new URLSearchParams(window.location.search);
    const nome = params.get('nome');
    const title = document.getElementById('city-title');
    const desc = document.getElementById('city-desc');
    const cover = document.getElementById('hero-cover');
    const points = document.getElementById('city-points');
    const bookingMsg = document.getElementById('booking-msg');
    const bookingNote = document.getElementById('booking-user-note');

    if (!nome) {
        title.textContent = 'Cidade n√£o especificada';
        desc.textContent = 'Volte para a lista de cidades.';
        return;
    }

    // simple city data map (can be extended)
    // mapa simples de dados das cidades (pode ser estendido com mais campos ou vindo de um backend)
    const cityData = {
        'Ouro Preto': {
            desc: 'Ouro Preto √© famosa por sua arquitetura barroca, museus e igrejas hist√≥ricas.',
            img: 'https://images.unsplash.com/photo-1542261339-66a65b6e9e9c',
            points: ['Igreja de S√£o Francisco', 'Museu da Inconfid√™ncia', 'Pra√ßa Tiradentes'],
            gallery: [
                'img/cidades/ouro-preto/img1.jpg',
                'img/cidades/ouro-preto/img2.jpg',
                'img/cidades/ouro-preto/img3.jpg',
                'img/cidades/ouro-preto/img4.jpg'
            ]
        },
        'Tiradentes': {
            desc: 'Tiradentes re√∫ne ruas preservadas, caf√©s e gastronomia t√≠pica.',
            img: 'https://images.unsplash.com/photo-1530639836704-68f1d6f2b5d8',
            points: ['Igreja Matriz', 'Museu da Liturgia', 'Passeio de trem'],
            gallery: [
                'img/cidades/tiradentes/img1.jpg',
                'img/cidades/tiradentes/img2.jpg',
                'img/cidades/tiradentes/img3.jpg',
                'img/cidades/tiradentes/img4.jpg'
            ]
        },
        'Mariana': {
            desc: 'Mariana √© vizinha de Ouro Preto, com hist√≥ria mineradora e belas igrejas.',
            img: 'https://images.unsplash.com/photo-1526778548025-fa2f459cd5c3',
            points: ['Catedral da S√©', 'Minas do Passa Quatro'],
            gallery: [
                'img/cidades/mariana/img1.jpg',
                'img/cidades/mariana/img2.jpg',
                'img/cidades/mariana/img3.jpg',
                'img/cidades/mariana/img4.jpg'
            ]
        },
        'Diamantina': {
            desc: 'Diamantina preserva tradi√ß√£o cultural e eventos musicais.',
            img: 'https://images.unsplash.com/photo-1509395176047-4a66953fd231',
            points: ['Largo da Matriz', 'Museu do Diamante'],
            gallery: [
                'img/cidades/diamantina/img1.jpg',
                'img/cidades/diamantina/img2.jpg',
                'img/cidades/diamantina/img3.jpg',
                'img/cidades/diamantina/img4.jpg'
            ]
        },
        'S√£o Jo√£o del-Rei': {
            desc: 'Cidade hist√≥rica com forte tradi√ß√£o ferrovi√°ria e religiosa.',
            img: 'https://images.unsplash.com/photo-1509395176047-4a66953fd231',
            points: ['Maria Fuma√ßa', 'Igreja do Carmo'],
            gallery: [
                'img/cidades/sao-joao-del-rei/img1.jpg',
                'img/cidades/sao-joao-del-rei/img2.jpg',
                'img/cidades/sao-joao-del-rei/img3.jpg',
                'img/cidades/sao-joao-del-rei/img4.jpg'
            ]
        },
        'Congonhas': {
            desc: 'Santu√°rio do Senhor Bom Jesus de Matosinhos, com esculturas de Aleijadinho.',
            img: 'https://images.unsplash.com/photo-1526481280698-3bfa7568a2b2',
            points: ['Santu√°rio do Bom Jesus', 'Museu de Congonhas'],
            gallery: [
                'img/cidades/congonhas/img1.jpg',
                'img/cidades/congonhas/img2.jpg',
                'img/cidades/congonhas/img3.jpg',
                'img/cidades/congonhas/img4.jpg'
            ]
        }
    };

    const data = cityData[nome] || { desc: 'Informa√ß√µes em breve.', img: 'https://images.unsplash.com/photo-1501785888041-af3ef285b470', points: [], gallery: [] };

    title.textContent = nome;
    desc.textContent = data.desc;
    // Se a cidade for S√£o Jo√£o del-Rei ou Diamantina, remover a imagem de capa conforme solicitado
    if (nome === 'S√£o Jo√£o del-Rei' || nome === 'Diamantina') {
        cover.style.backgroundImage = 'none';
        cover.style.display = 'none';
    } else {
        cover.style.backgroundImage = `url('${data.img}')`;
        cover.style.display = '';
    }
    points.innerHTML = data.points.map(p => `<li>${p}</li>`).join('');

    // Try to fetch admin-created trip for this city (and date if provided) and prefer its details
    (async () => {
        try {
            const r = await fetch('/api/trips');
            if (!r.ok) return;
            const trips = await r.json();
            const dateParam = params.get('date');
            let trip = null;
            if (dateParam) trip = trips.find(t => t.city === nome && t.date === dateParam);
            if (!trip) trip = trips.find(t => t.city === nome);
            if (!trip) return;
            if (trip.description) desc.textContent = trip.description;
            // points may be array
            if (Array.isArray(trip.points) && trip.points.length) {
                points.innerHTML = trip.points.map(p => `<li>${p}</li>`).join('');
            } else if (typeof trip.points === 'string' && trip.points.trim()) {
                points.innerHTML = trip.points.split(/\r?\n|,/).map(p => `<li>${p.trim()}</li>`).join('');
            }
            if (trip.coverImage) {
                const raw = trip.coverImage;
                const finalCover = (new RegExp('^(data:|https?:|/)','i').test(raw) ? raw : ('/' + raw));
                cover.style.backgroundImage = `url('${finalCover.replace(/'/g, "\\'")}')`;
                cover.style.display = '';
                // also use cover as gallery if no gallery present
                try { initCarousel([finalCover]); } catch(e){}
            }
        } catch(e) { /* ignore */ }
    })();

    // Inicializar carrossel com as imagens da galeria
    initCarousel(data.gallery);

    const auth = window.natripAuth;
    const bookingBtn = document.getElementById('booking-submit');

    function refreshAuthState() {
        const cur = auth ? auth.getCurrentUser() : JSON.parse(localStorage.getItem('natrip_currentUser') || 'null');
        if (cur) {
            bookingNote.textContent = `Reservando como: ${cur.name} (${cur.email})`;
            if (bookingBtn) bookingBtn.disabled = false;
        } else {
            bookingNote.innerHTML = 'Voc√™ n√£o est√° logado. <a href="perfil.html">Fa√ßa login</a> para agendar com seus dados.';
            if (bookingBtn) bookingBtn.disabled = true;
        }
    }

    refreshAuthState();
    // Atualiza se outra aba alterar o login
    window.addEventListener('storage', (e) => { if (e.key === 'natrip_currentUser') refreshAuthState(); });


    // Remove limite de pessoas: n√£o h√° mais controle de disponibilidade
    // Remove tamb√©m o campo max do input de pessoas
    const seatsInput = document.getElementById('booking-seats');
    const availabilityNote = document.getElementById('availability-note');
    if (seatsInput) seatsInput.removeAttribute('max');

    // Helpers to manage per-city bookings (limit 4 seats per date)
    const storageKey = `natrip_bookings_${nome.replace(/\s+/g, '_')}`;
    function getCityBookings() {
        try { return JSON.parse(localStorage.getItem(storageKey) || '[]'); } catch(e) { return []; }
    }
    function getBookedSeatsForDate(date) {
        if (!date) return 0;
        const list = getCityBookings();
        return list.reduce((s, b) => s + (parseInt(b.seats, 10) || 0), 0);
    }
    function updateAvailability(date) {
        if (!seatsInput) return;
        if (!date) {
            availabilityNote.textContent = 'Escolha uma data para ver disponibilidade.';
            seatsInput.max = 4;
            seatsInput.disabled = false;
            return;
        }
        // Somar assentos j√° reservados para a mesma data
        const bookings = getCityBookings();
        const occupied = bookings.filter(b => b.date === date).reduce((s,b) => s + (parseInt(b.seats,10)||0), 0);
        const available = Math.max(0, 4 - occupied);
        availabilityNote.textContent = available > 0 ? `Vagas restantes para ${date}: ${available}` : `Sem vagas para ${date}.`;
        seatsInput.max = available > 0 ? available : 0;
        if (available === 0) {
            seatsInput.value = 0;
            seatsInput.disabled = true;
        } else {
            seatsInput.disabled = false;
            if ((parseInt(seatsInput.value,10) || 0) > available) seatsInput.value = available;
        }
    }

    // Atualiza a bolha de disponibilidade exibida sobre o carrossel
    function updateCarouselAvailability(date) {
        const el = document.getElementById('carousel-availability');
        if (!el) return;
        if (!date) {
            el.style.display = 'none';
            return;
        }
        const bookings = getCityBookings();
        const occupied = bookings.filter(b => b.date === date).reduce((s,b) => s + (parseInt(b.seats,10)||0), 0);
        const available = Math.max(0, 4 - occupied);
        el.textContent = available > 0 ? `Vagas: ${available}` : 'Sem vagas';
        el.style.display = 'inline-block';
    }

    const dateInput = document.getElementById('booking-date');
    if (dateInput) dateInput.readOnly = true; // prevent native picker from opening
    // preselect date from query string if provided (e.g. ?nome=Ouro%20Preto&date=YYYY-MM-DD)
    const dateParam = params.get('date');
    if (dateInput && dateParam) {
        // basic validation: YYYY-MM-DD
        if (/^\d{4}-\d{2}-\d{2}$/.test(dateParam)) {
            dateInput.value = dateParam;
        }
    }
    const reservedDatesContainer = document.getElementById('reserved-dates');
    // render reserved dates for the logged-in user (if any)
    function renderReservedDates() {
            if (!reservedDatesContainer) return;
            let currentUser = auth ? auth.getCurrentUser() : JSON.parse(localStorage.getItem('natrip_currentUser') || 'null');
            if (!currentUser) { reservedDatesContainer.innerHTML = ''; return; }
            const reserved = (window.natripAuth && window.natripAuth.getUserReservedDates) ? window.natripAuth.getUserReservedDates(currentUser.email) : JSON.parse(localStorage.getItem(`natrip_reserved_dates_${currentUser.email}`) || '[]');
            reservedDatesContainer.innerHTML = reserved.map(d => `<button class="reserved-date-badge" data-date="${d}">${d}</button>`).join('') || '';
            // attach click handlers and mark selected
            reservedDatesContainer.querySelectorAll('.reserved-date-badge').forEach(b => {
                const d = b.dataset.date;
                if (dateInput && dateInput.value === d) b.classList.add('selected'); else b.classList.remove('selected');
                b.addEventListener('click', (ev) => {
                    const d2 = ev.currentTarget.dataset.date;
                    if (!d2) return;
                    dateInput.value = d2;
                    dateInput.dispatchEvent(new Event('change'));
                    // update badges
                    reservedDatesContainer.querySelectorAll('.reserved-date-badge').forEach(x => x.classList.toggle('selected', x.dataset.date === d2));
                });
            });
    }
    if (dateInput) {
        dateInput.addEventListener('change', (e) => {
            updateAvailability(e.target.value);
            updateCarouselAvailability(e.target.value);
            bookingMsg.textContent = '';
        });
        // se j√° existir valor (query param), atualizar disponibilidade
        if (dateInput.value) {
            updateAvailability(dateInput.value);
            updateCarouselAvailability(dateInput.value);
            renderReservedDates();
        } else {
            updateCarouselAvailability(new Date().toISOString().slice(0,10));
            renderReservedDates();
        }
    }
        const dateToggle = document.createElement('button'); dateToggle.type='button'; dateToggle.className='date-toggle icon-btn'; dateToggle.setAttribute('aria-label','Abrir calend√°rio'); dateToggle.textContent='üìÖ';
        const tripCalendarWrap = document.createElement('div');
        tripCalendarWrap.id = 'trip-calendar-wrap';
        tripCalendarWrap.className = 'trip-calendar';
        tripCalendarWrap.style.display = 'none';
        dateInput.parentNode.insertBefore(dateToggle, dateInput.nextSibling);
        dateInput.parentNode.insertBefore(tripCalendarWrap, dateToggle.nextSibling);

        // toggle calendar only when clicking the icon
        dateToggle.addEventListener('click', async (ev) => {
            ev.stopPropagation();
            if (tripCalendarWrap.style.display === 'none') {
                const now = new Date();
                await renderTripCalendar(nome, now.getFullYear(), now.getMonth());
                tripCalendarWrap.style.display = 'block';
            } else {
                tripCalendarWrap.style.display = 'none';
            }
        });

        // close when clicking outside
        document.addEventListener('click', (ev) => {
            if (!tripCalendarWrap.contains(ev.target) && ev.target !== dateToggle && ev.target !== dateInput) {
                tripCalendarWrap.style.display = 'none';
            }
        });

        // prevent clicks inside calendar from closing
        tripCalendarWrap.addEventListener('click', (ev) => ev.stopPropagation());

        async function renderTripCalendar(city, year, month) {
            // month: 0-based
            const cal = tripCalendarWrap;
            cal.innerHTML = '';
            const head = document.createElement('div'); head.className = 'cal-head';
            const title = document.createElement('div'); title.textContent = new Date(year, month).toLocaleString('pt-BR', { month: 'long', year: 'numeric' });
            const nav = document.createElement('div'); nav.innerHTML = `<button class="icon-btn" id="cal-prev">‚Äπ</button><button class="icon-btn" id="cal-next">‚Ä∫</button>`;
            head.appendChild(title); head.appendChild(nav); cal.appendChild(head);

            const grid = document.createElement('div'); grid.className = 'cal-grid';
            // first day of month
            const first = new Date(year, month, 1);
            const startDay = (first.getDay() + 6) % 7; // convert Sun(0) to end -> Mon-based (Mon=0)
            const daysInMonth = new Date(year, month+1, 0).getDate();

            // fetch admin trips from server for this city/month
            let tripDatesSet = new Set();
            try {
                const r = await fetch('/api/trips');
                if (r.ok) {
                    const all = await r.json();
                    all.filter(t => t.city === city).forEach(t => tripDatesSet.add(t.date));
                }
            } catch (e) { /* ignore, leave set empty */ }

            // previous month's tail
            const prevMonthDays = startDay;
            const prevMonthLast = new Date(year, month, 0).getDate();
            for (let i=prevMonthDays-1;i>=0;i--) {
                const d = prevMonthLast - i;
                const el = document.createElement('div'); el.className = 'cal-day other-month'; el.textContent = d; grid.appendChild(el);
            }
            // current month
            for (let d=1; d<=daysInMonth; d++) {
                const yyyy = year.toString();
                const mm = String(month+1).padStart(2,'0');
                const dd = String(d).padStart(2,'0');
                const iso = `${yyyy}-${mm}-${dd}`;
                const el = document.createElement('div'); el.className = 'cal-day'; el.textContent = d;
                el.dataset.date = iso;
                if (tripDatesSet.has(iso)) {
                    el.classList.add('trip');
                    el.addEventListener('click', () => {
                        dateInput.value = iso;
                        dateInput.dispatchEvent(new Event('change'));
                        tripCalendarWrap.querySelectorAll('.cal-day').forEach(x=>x.classList.toggle('selected', x.dataset.date===iso));
                        tripCalendarWrap.style.display = 'none';
                    });
                } else {
                    el.classList.add('disabled');
                }
                grid.appendChild(el);
            }
            // fill to complete grid (optional)
            while (grid.children.length % 7 !== 0) {
                const el = document.createElement('div'); el.className='cal-day other-month'; el.textContent=''; grid.appendChild(el);
            }

            cal.appendChild(grid);

            // handlers for prev/next
            document.getElementById('cal-prev').addEventListener('click', ()=>{ const newMonth = month-1; const newY = new Date(year, newMonth,1).getFullYear(); const newM = new Date(year, newMonth,1).getMonth(); renderTripCalendar(city, newY, newM); });
            document.getElementById('cal-next').addEventListener('click', ()=>{ const newMonth = month+1; const newY = new Date(year, newMonth,1).getFullYear(); const newM = new Date(year, newMonth,1).getMonth(); renderTripCalendar(city, newY, newM); });
        }

        // calendar will render only when user clicks the calendar icon

    document.getElementById('booking-submit').addEventListener('click', async () => {
        const date = document.getElementById('booking-date').value;
        const seats = parseInt(document.getElementById('booking-seats').value, 10) || 1;
        const notes = document.getElementById('booking-notes').value.trim();

        const currentUser = auth ? auth.getCurrentUser() : JSON.parse(localStorage.getItem('natrip_currentUser') || 'null');
        if (!currentUser) {
            bookingMsg.textContent = 'Fa√ßa login para agendar.';
            bookingMsg.style.color = '#c33';
            return;
        }

        if (!date) {
            bookingMsg.textContent = 'Escolha uma data.';
            bookingMsg.style.color = '#c33';
            return;
        }

        // valida√ß√£o de assentos: limite por data = 4
        const bookings = getCityBookings();
        const occupied = bookings.filter(b => b.date === date).reduce((s,b) => s + (parseInt(b.seats,10)||0), 0);
        const available = Math.max(0, 4 - occupied);
        if (available <= 0) {
            bookingMsg.textContent = 'N√£o h√° vagas para essa data.';
            bookingMsg.style.color = '#c33';
            return;
        }

        if (seats < 1 || seats > available) {
            bookingMsg.textContent = `Informe entre 1 e ${available} pessoas.`;
            bookingMsg.style.color = '#c33';
            return;
        }

        // Determine unit price: prefer admin-created trip price, fallback to cityData price
        let unitPrice = null;
        try {
            const r = await fetch('/api/trips');
            if (r.ok) {
                const all = await r.json();
                let trip = all.find(t => t.city === nome && t.date === date);
                if (!trip) trip = all.find(t => t.city === nome);
                if (trip && typeof trip.price !== 'undefined' && trip.price !== null) unitPrice = parseFloat(trip.price);
            }
        } catch(e) { /* ignore */ }
        if (unitPrice === null) {
            const meta = cityData[nome] || {};
            unitPrice = meta.price || 0;
        }

        // Salva agendamento em chave espec√≠fica da cidade para evitar compartilhamento entre cidades
        const existing = JSON.parse(localStorage.getItem(storageKey) || '[]');
        const booking = { city: nome, date, seats, notes, user: currentUser ? currentUser.email : null, created: new Date().toISOString(), unitPrice: unitPrice, totalValue: (parseFloat(unitPrice) * (parseInt(seats,10)||1)) };
        existing.push(booking);
        localStorage.setItem(storageKey, JSON.stringify(existing));

        // prepare checkout item and redirect user to payment flow
        const checkoutItem = { ...booking, totalValue: parseFloat(booking.totalValue) };
        localStorage.setItem('natrip_checkout_item', JSON.stringify(checkoutItem));

        bookingMsg.textContent = 'Viagem agendada com sucesso! Redirecionando para pagamento...';
        bookingMsg.style.color = '#0a7';
        setTimeout(() => { window.location.href = 'minhas-compras.html'; }, 1200);
    });
});

// Vari√°veis globais para o carrossel
let currentSlide = 0;
let carouselImages = [];
let autoSlideInterval;

// Inicializa o carrossel com as imagens fornecidas
function initCarousel(images) {
    carouselImages = images;
    const carousel = document.getElementById('city-carousel');
    const indicatorsContainer = document.getElementById('carousel-indicators');
    
    if (!images || images.length === 0) {
        carousel.style.display = 'none';
        return;
    }

    // Criar slides
    const slidesHTML = images.map((img, index) => 
        `<div class="carousel-slide ${index === 0 ? 'active' : ''}" style="background-image: url('${img}')"></div>`
    ).join('');
    
    // Criar indicadores
    const indicatorsHTML = images.map((_, index) => 
        `<span class="carousel-indicator ${index === 0 ? 'active' : ''}" onclick="goToSlide(${index})"></span>`
    ).join('');
    
    // Inserir antes dos bot√µes
    const prevBtn = carousel.querySelector('.prev');
    carousel.insertAdjacentHTML('afterbegin', slidesHTML);
    indicatorsContainer.innerHTML = indicatorsHTML;
    
    // Iniciar troca autom√°tica a cada 4 segundos
    startAutoSlide();
}

// Muda para o pr√≥ximo ou anterior slide
function changeSlide(direction) {
    const slides = document.querySelectorAll('.carousel-slide');
    const indicators = document.querySelectorAll('.carousel-indicator');
    
    if (slides.length === 0) return;
    
    slides[currentSlide].classList.remove('active');
    indicators[currentSlide].classList.remove('active');
    
    currentSlide = (currentSlide + direction + slides.length) % slides.length;
    
    slides[currentSlide].classList.add('active');
    indicators[currentSlide].classList.add('active');
    
    // Reiniciar o timer autom√°tico
    resetAutoSlide();
}

// Vai para um slide espec√≠fico
function goToSlide(index) {
    const slides = document.querySelectorAll('.carousel-slide');
    const indicators = document.querySelectorAll('.carousel-indicator');
    
    if (slides.length === 0) return;
    
    slides[currentSlide].classList.remove('active');
    indicators[currentSlide].classList.remove('active');
    
    currentSlide = index;
    
    slides[currentSlide].classList.add('active');
    indicators[currentSlide].classList.add('active');
    
    // Reiniciar o timer autom√°tico
    resetAutoSlide();
}

// Inicia a troca autom√°tica de slides
function startAutoSlide() {
    autoSlideInterval = setInterval(() => {
        changeSlide(1);
    }, 4000);
}

// Reinicia o timer de troca autom√°tica
function resetAutoSlide() {
    clearInterval(autoSlideInterval);
    startAutoSlide();
}
</script>

</body>
</html>
